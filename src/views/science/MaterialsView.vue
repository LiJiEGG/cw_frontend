<script setup lang="ts">
import { ref } from 'vue'
import BackButton from '@/components/common/BackButton.vue'

// ç‰©èµ„åˆ†ç±»æ•°æ®
const materials = ref([
  {
    id: 1,
    title: 'ç§æ¤èµ„æ',
    icon: 'ğŸŒ±',
    items: [
      {
        name: 'ç§å­ç§è‹—',
        specs: ['å¸¸è§„ç§å­', 'è‰¯ç§', 'å«æ¥è‹—'],
        usage: 'ä½œç‰©ç¹æ®–ä¸æ ½åŸ¹',
        tips: 'é€‰æ‹©é€‚åˆå½“åœ°æ°”å€™çš„å“ç§ï¼Œæ³¨æ„å‚¨å­˜æ¡ä»¶'
      },
      {
        name: 'æ ½åŸ¹åŸºè´¨',
        specs: ['è¥å…»åœŸ', 'è›­çŸ³', 'æ¤°ç³ '],
        usage: 'è‚²è‹—å’Œæ ½åŸ¹',
        tips: 'æ ¹æ®ä½œç‰©éœ€æ±‚é€‰æ‹©åˆé€‚åŸºè´¨'
      }
    ]
  },
  {
    id: 2,
    title: 'è‚¥æ–™å†œè¯',
    icon: 'ğŸ’Š',
    items: [
      {
        name: 'åŒ–è‚¥',
        specs: ['æ°®è‚¥', 'ç£·è‚¥', 'é’¾è‚¥', 'å¤åˆè‚¥'],
        usage: 'ä½œç‰©è¥å…»ä¾›ç»™',
        tips: 'æŒ‰éœ€æ–½ç”¨ï¼Œé¿å…è¿‡é‡'
      },
      {
        name: 'å†œè¯',
        specs: ['æ€è™«å‰‚', 'æ€èŒå‰‚', 'é™¤è‰å‰‚'],
        usage: 'ç—…è™«å®³é˜²æ²»',
        tips: 'éµå®ˆå®‰å…¨é—´éš”æœŸï¼Œç§‘å­¦ä½¿ç”¨'
      }
    ]
  },
  {
    id: 3,
    title: 'å†œè†œå†œå…·',
    icon: 'ğŸ› ï¸',
    items: [
      {
        name: 'å†œç”¨è–„è†œ',
        specs: ['åœ°è†œ', 'å¤§æ£šè†œ', 'é®é˜³ç½‘'],
        usage: 'ä¿æ¸©ä¿æ¹¿ï¼Œè°ƒèŠ‚å…‰ç…§',
        tips: 'åŠæ—¶å›æ”¶ï¼Œé˜²æ­¢ç™½è‰²æ±¡æŸ“'
      },
      {
        name: 'å†œå…·å·¥å…·',
        specs: ['é”„å¤´', 'å–·å£¶', 'å‰ªåˆ€'],
        usage: 'æ—¥å¸¸å†œäº‹æ“ä½œ',
        tips: 'ä½¿ç”¨ååŠæ—¶æ¸…æ´ä¿å…»'
      }
    ]
  },
  {
    id: 4,
    title: 'è®¾æ–½é…ä»¶',
    icon: 'âš™ï¸',
    items: [
      {
        name: 'çŒæº‰è®¾å¤‡',
        specs: ['æ»´çŒå¸¦', 'å–·å¤´', 'è¿‡æ»¤å™¨'],
        usage: 'ä½œç‰©çŒæº‰',
        tips: 'å®šæœŸæ£€æŸ¥ï¼ŒåŠæ—¶ç»´æŠ¤'
      },
      {
        name: 'ç¯æ§è®¾å¤‡',
        specs: ['æ¸©åº¦è®¡', 'æ¹¿åº¦è®¡', 'æ§åˆ¶å™¨'],
        usage: 'ç¯å¢ƒç›‘æµ‹ä¸è°ƒæ§',
        tips: 'ç¡®ä¿è®¾å¤‡å‡†ç¡®æ€§'
      }
    ]
  }
])

// é‡‡è´­å»ºè®®
const purchaseTips = ref([
  {
    title: 'é€‰è´­è¦ç‚¹',
    items: [
      'é€‰æ‹©æ­£è§„æ¸ é“è´­ä¹°',
      'æŸ¥éªŒäº§å“åˆæ ¼è¯',
      'å¯¹æ¯”ä»·æ ¼å’Œè´¨é‡',
      'æ³¨æ„äº§å“æœ‰æ•ˆæœŸ'
    ]
  },
  {
    title: 'å‚¨å­˜ç®¡ç†',
    items: [
      'åˆ†ç±»å­˜æ”¾ï¼Œæ ‡è¯†æ¸…æ™°',
      'æ§åˆ¶æ¸©æ¹¿åº¦æ¡ä»¶',
      'å®šæœŸæ£€æŸ¥åº“å­˜',
      'åšå¥½å‡ºå…¥åº“è®°å½•'
    ]
  }
])
</script>

<template>
  <div class="materials-view">
    <BackButton />
    
    <div class="content-section">
      <div class="materials-grid">
        <div v-for="category in materials" 
             :key="category.id"
             class="category-card">
          <div class="category-header">
            <span class="category-icon">{{ category.icon }}</span>
            <h2>{{ category.title }}</h2>
          </div>
          
          <div class="items-list">
            <div v-for="(item, index) in category.items"
                 :key="index"
                 class="material-item">
              <h3>{{ item.name }}</h3>
              <div class="specs">
                <h4>è§„æ ¼ç±»å‹</h4>
                <div class="specs-tags">
                  <span v-for="(spec, sIndex) in item.specs"
                        :key="sIndex"
                        class="spec-tag">
                    {{ spec }}
                  </span>
                </div>
              </div>
              <div class="usage">
                <h4>ä½¿ç”¨ç”¨é€”</h4>
                <p>{{ item.usage }}</p>
              </div>
              <div class="tips">
                <h4>ä½¿ç”¨æç¤º</h4>
                <p>{{ item.tips }}</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="tips-section">
        <h2>é‡‡è´­ä¸ç®¡ç†å»ºè®®</h2>
        <div class="tips-grid">
          <div v-for="(tip, index) in purchaseTips"
               :key="index"
               class="tip-card">
            <h3>{{ tip.title }}</h3>
            <ul>
              <li v-for="(item, iIndex) in tip.items"
                  :key="iIndex">
                {{ item }}
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<style scoped>
.materials-view {
  padding: 20px;
  max-width: 1200px;
  margin: 0 auto;
}

.content-section {
  margin-top: 20px;
}

.materials-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: 24px;
}

.category-card {
  background: white;
  border-radius: 12px;
  padding: 24px;
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.05);
  border: 1px solid #eee;
}

.category-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 20px;
  padding-bottom: 16px;
  border-bottom: 1px solid #eee;
}

.category-icon {
  font-size: 28px;
}

h2 {
  color: #2c3e50;
  font-size: 1.6rem;
  margin: 0;
  font-weight: 600;
}

.material-item {
  padding: 20px;
  background: #f8f9fa;
  border-radius: 8px;
  margin-bottom: 16px;
}

.material-item:last-child {
  margin-bottom: 0;
}

.material-item h3 {
  color: #2c3e50;
  font-size: 1.2rem;
  margin: 0 0 16px;
}

h4 {
  color: #4CAF50;
  font-size: 1rem;
  margin: 0 0 8px;
}

.specs-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-bottom: 16px;
}

.spec-tag {
  background: #f0f9f0;
  color: #4CAF50;
  padding: 4px 12px;
  border-radius: 16px;
  font-size: 0.85rem;
}

.usage p,
.tips p {
  color: #666;
  line-height: 1.5;
  margin: 0 0 16px;
}

.tips-section {
  margin-top: 40px;
}

.tips-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 24px;
  margin-top: 20px;
}

.tip-card {
  background: white;
  border-radius: 12px;
  padding: 24px;
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.05);
  border: 1px solid #eee;
}

.tip-card h3 {
  color: #2c3e50;
  font-size: 1.2rem;
  margin: 0 0 16px;
}

.tip-card ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

.tip-card li {
  color: #666;
  padding: 8px 0 8px 20px;
  position: relative;
}

.tip-card li::before {
  content: "â€¢";
  color: #4CAF50;
  position: absolute;
  left: 0;
}

/* æ·±è‰²æ¨¡å¼ */
@media (prefers-color-scheme: dark) {
  .category-card,
  .tip-card {
    background: #2d2d2d;
    border-color: #444;
  }

  .category-header {
    border-color: #444;
  }

  h2,
  .material-item h3,
  .tip-card h3 {
    color: #e5eaf3;
  }

  .material-item {
    background: #1a1a1a;
  }

  .spec-tag {
    background: #1a2f1a;
    color: #81c784;
  }

  .usage p,
  .tips p,
  .tip-card li {
    color: #bbb;
  }

  .tip-card li::before {
    color: #81c784;
  }
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 768px) {
  .materials-view {
    padding: 16px;
  }

  h2 {
    font-size: 1.4rem;
  }

  .material-item {
    padding: 16px;
  }

  .material-item h3 {
    font-size: 1.1rem;
  }

  .specs-tags {
    justify-content: flex-start;
  }
}
</style> 